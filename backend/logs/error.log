{"error":"Access token required","ip":"::1","level":"error","message":"Error occurred:","method":"GET","path":"/api/auth/me","service":"evofit-backend","stack":"Error: Access token required\n    at createError (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\middleware\\errorHandler.ts:123:17)\n    at authenticate (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\middleware\\auth.ts:36:24)\n    at Layer.handle [as handle_request] (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-08-25 20:31:17","userAgent":"curl/8.14.1","version":"1.0.0"}
{"body":{"email":"admin@fitmeal.pro","password":"Admin123!@#","rememberMe":false},"error":"Invalid email or password","ip":"::1","level":"error","message":"Error occurred:","method":"POST","path":"/api/auth/login","service":"evofit-backend","stack":"Error: Invalid email or password\n    at createError (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\middleware\\errorHandler.ts:123:17)\n    at C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\controllers\\authController.ts:198:22","timestamp":"2025-08-26 11:02:25","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","version":"1.0.0"}
{"body":{"email":"admin@fitmeal.pro","password":"Admin123!@#","rememberMe":false},"error":"Invalid email or password","ip":"::1","level":"error","message":"Error occurred:","method":"POST","path":"/api/auth/login","service":"evofit-backend","stack":"Error: Invalid email or password\n    at createError (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\middleware\\errorHandler.ts:123:17)\n    at C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\controllers\\authController.ts:198:22","timestamp":"2025-08-26 11:02:26","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","version":"1.0.0"}
{"body":{"email":"testtrainer@example.com","password":"TrainerPassword123!","rememberMe":false},"error":"Invalid email or password","ip":"::1","level":"error","message":"Error occurred:","method":"POST","path":"/api/auth/login","service":"evofit-backend","stack":"Error: Invalid email or password\n    at createError (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\middleware\\errorHandler.ts:123:17)\n    at C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\controllers\\authController.ts:152:22","timestamp":"2025-08-26 11:02:26","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","version":"1.0.0"}
{"body":{"email":"testcustomer@example.com","password":"TestPassword123!","rememberMe":false},"error":"Invalid email or password","ip":"::1","level":"error","message":"Error occurred:","method":"POST","path":"/api/auth/login","service":"evofit-backend","stack":"Error: Invalid email or password\n    at createError (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\middleware\\errorHandler.ts:123:17)\n    at C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\controllers\\authController.ts:152:22","timestamp":"2025-08-26 11:02:26","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","version":"1.0.0"}
{"error":"Access token required","ip":"::1","level":"error","message":"Error occurred:","method":"GET","path":"/api/auth/me","service":"evofit-backend","stack":"Error: Access token required\n    at createError (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\middleware\\errorHandler.ts:123:17)\n    at authenticate (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\middleware\\auth.ts:36:24)\n    at Layer.handle [as handle_request] (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-08-26 11:02:26","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","version":"1.0.0"}
{"duration":"67ms","ip":"::1","level":"error","message":"GET /api/health/detailed 503","method":"GET","responseTime":67,"service":"evofit-backend","statusCode":503,"timestamp":"2025-08-27 11:51:51","url":"/api/health/detailed","userAgent":"curl/8.14.1","version":"1.0.0"}
{"level":"error","message":"Health check failed: NOAUTH Authentication required.","service":"evofit-backend","timestamp":"2025-08-27 18:53:25","version":"1.0.0"}
{"duration":"43ms","ip":"::1","level":"error","message":"GET /api/health 503","method":"GET","responseTime":43,"service":"evofit-backend","statusCode":503,"timestamp":"2025-08-27 18:53:25","url":"/api/health","userAgent":"curl/8.14.1","version":"1.0.0"}
{"clientVersion":"5.22.0","code":"P2023","level":"error","message":"Error getting exercise: \nInvalid `prisma.exercise.findFirst()` invocation in\nC:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\controllers\\exerciseController.ts:170:44\n\n  167 \n  168 // TODO: Try cache first when Redis is integrated\n  169 \n→ 170 const exercise = await prisma.exercise.findFirst(\nInconsistent column data: Error creating UUID, invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `g` at 2","meta":{"message":"Error creating UUID, invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `g` at 2","modelName":"Exercise"},"name":"PrismaClientKnownRequestError","service":"evofit-backend","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.exercise.findFirst()` invocation in\nC:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\controllers\\exerciseController.ts:170:44\n\n  167 \n  168 // TODO: Try cache first when Redis is integrated\n  169 \n→ 170 const exercise = await prisma.exercise.findFirst(\nInconsistent column data: Error creating UUID, invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `g` at 2\n    at $n.handleRequestError (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7315)\n    at $n.handleAndLogRequestError (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at async l (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at async getExerciseById (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\controllers\\exerciseController.ts:170:22)","timestamp":"2025-08-27 18:53:50","version":"1.0.0"}
{"duration":"15ms","ip":"::1","level":"error","message":"GET /api/exercises/2gPfomN 500","method":"GET","responseTime":15,"service":"evofit-backend","statusCode":500,"timestamp":"2025-08-27 18:53:50","url":"/api/exercises/2gPfomN","userAgent":"curl/8.14.1","version":"1.0.0"}
{"clientVersion":"5.22.0","code":"P2023","level":"error","message":"Error getting exercise: \nInvalid `prisma.exercise.findFirst()` invocation:\n\n\nInconsistent column data: Error creating UUID, invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `g` at 2","meta":{"message":"Error creating UUID, invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `g` at 2","modelName":"Exercise"},"name":"PrismaClientKnownRequestError","service":"evofit-backend","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.exercise.findFirst()` invocation:\n\n\nInconsistent column data: Error creating UUID, invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `g` at 2\n    at $n.handleRequestError (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7315)\n    at $n.handleAndLogRequestError (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at async l (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at async getExerciseById (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\controllers\\exerciseController.ts:170:22)","timestamp":"2025-08-27 18:56:01","version":"1.0.0"}
{"duration":"5ms","ip":"::1","level":"error","message":"GET /api/exercises/2gPfomN 500","method":"GET","responseTime":5,"service":"evofit-backend","statusCode":500,"timestamp":"2025-08-27 18:56:01","url":"/api/exercises/2gPfomN","userAgent":"curl/8.14.1","version":"1.0.0"}
{"clientVersion":"5.22.0","errorCode":"P1001","level":"error","message":"❌ Failed to start server: Can't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.","name":"PrismaClientInitializationError","service":"evofit-backend","stack":"PrismaClientInitializationError: Can't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.\n    at t (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:112:2488)\n    at async startServer (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\index.ts:86:5)","timestamp":"2025-08-27 22:06:37","version":"1.0.0"}
{"clientVersion":"5.22.0","errorCode":"P1001","level":"error","message":"❌ Failed to start server: Can't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.","name":"PrismaClientInitializationError","service":"evofit-backend","stack":"PrismaClientInitializationError: Can't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.\n    at t (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:112:2488)\n    at async startServer (C:\\Users\\drmwe\\claude-workspace\\FitnessTrainer\\backend\\src\\index.ts:86:5)","timestamp":"2025-08-27 22:27:39","version":"1.0.0"}
{"level":"error","message":"Health check failed: NOAUTH Authentication required.","service":"evofit-backend","timestamp":"2025-08-27 22:28:26","version":"1.0.0"}
{"duration":"17ms","ip":"::1","level":"error","message":"GET /api/health 503","method":"GET","responseTime":17,"service":"evofit-backend","statusCode":503,"timestamp":"2025-08-27 22:28:26","url":"/api/health","userAgent":"curl/8.14.1","version":"1.0.0"}
{"body":{},"error":"Unexpected token ! in JSON at position 48","ip":"::1","level":"error","message":"Error occurred:","method":"POST","path":"/api/auth/register","service":"evofit-backend","stack":"SyntaxError: Unexpected token ! in JSON at position 48\n    at JSON.parse (<anonymous>)\n    at parse (/app/node_modules/body-parser/lib/types/json.js:92:19)\n    at /app/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at invokeCallback (/app/node_modules/raw-body/index.js:238:16)\n    at done (/app/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/app/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:517:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1400:12)","timestamp":"2025-08-28 05:21:15","userAgent":"curl/8.12.1","version":"1.0.0"}
{"body":{"email":"trainer@test.com","password":"Test123456","role":"trainer"},"error":"[\n  {\n    \"validation\": \"regex\",\n    \"code\": \"invalid_string\",\n    \"message\": \"Password must contain at least one special character\",\n    \"path\": [\n      \"password\"\n    ]\n  },\n  {\n    \"code\": \"invalid_type\",\n    \"expected\": \"boolean\",\n    \"received\": \"undefined\",\n    \"path\": [\n      \"agreeToTerms\"\n    ],\n    \"message\": \"Required\"\n  },\n  {\n    \"code\": \"invalid_type\",\n    \"expected\": \"boolean\",\n    \"received\": \"undefined\",\n    \"path\": [\n      \"agreeToPrivacy\"\n    ],\n    \"message\": \"Required\"\n  }\n]","ip":"::1","level":"error","message":"Error occurred:","method":"POST","path":"/api/auth/register","service":"evofit-backend","stack":"ZodError: [\n  {\n    \"validation\": \"regex\",\n    \"code\": \"invalid_string\",\n    \"message\": \"Password must contain at least one special character\",\n    \"path\": [\n      \"password\"\n    ]\n  },\n  {\n    \"code\": \"invalid_type\",\n    \"expected\": \"boolean\",\n    \"received\": \"undefined\",\n    \"path\": [\n      \"agreeToTerms\"\n    ],\n    \"message\": \"Required\"\n  },\n  {\n    \"code\": \"invalid_type\",\n    \"expected\": \"boolean\",\n    \"received\": \"undefined\",\n    \"path\": [\n      \"agreeToPrivacy\"\n    ],\n    \"message\": \"Required\"\n  }\n]\n    at Object.get error [as error] (/app/node_modules/zod/v3/types.cjs:45:31)\n    at ZodObject.parse (/app/node_modules/zod/v3/types.cjs:120:22)\n    at /app/src/middleware/validation.ts:19:44\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:149:13)\n    at /app/node_modules/express-rate-limit/dist/index.cjs:807:7\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /app/node_modules/express-rate-limit/dist/index.cjs:691:5","timestamp":"2025-08-28 05:21:24","userAgent":"curl/8.12.1","version":"1.0.0"}
{"body":{},"error":"Unexpected token ! in JSON at position 51","ip":"::1","level":"error","message":"Error occurred:","method":"POST","path":"/api/auth/register","service":"evofit-backend","stack":"SyntaxError: Unexpected token ! in JSON at position 51\n    at JSON.parse (<anonymous>)\n    at parse (/app/node_modules/body-parser/lib/types/json.js:92:19)\n    at /app/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at invokeCallback (/app/node_modules/raw-body/index.js:238:16)\n    at done (/app/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/app/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:517:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1400:12)","timestamp":"2025-08-28 05:21:33","userAgent":"curl/8.12.1","version":"1.0.0"}
{"level":"error","message":"❌ Error during shutdown: The client is closed","service":"evofit-backend","stack":"Error: The client is closed\n    at RedisSocket.disconnect (/app/node_modules/@redis/client/dist/lib/client/socket.js:63:19)\n    at Commander.disconnect (/app/node_modules/@redis/client/dist/lib/client/index.js:353:64)\n    at process.<anonymous> (/app/src/index.ts:113:17)","timestamp":"2025-08-29 03:02:14","version":"1.0.0"}
{"error":"Access token required","ip":"::1","level":"error","message":"Error occurred:","method":"GET","path":"/api/analytics/dashboard/test-user-id","service":"evofit-backend","stack":"Error: Access token required\n    at createError (/app/src/middleware/errorHandler.ts:123:17)\n    at authenticate (/app/src/middleware/auth.ts:36:24)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/app/node_modules/express/lib/router/index.js:328:13)\n    at /app/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:346:12)\n    at next (/app/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/app/node_modules/express/lib/router/index.js:175:3)\n    at router (/app/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)","timestamp":"2025-08-29 04:09:38","userAgent":"curl/8.12.1","version":"1.0.0"}
